---
title: jvm特性（一）内存管理
date: 2020-02-19 17:30:27
categories:
- Java进阶
---

# 内存区域

## 程序计数器
线程私有的一块小内存区域，是当前线程执行字节码的行号指示器。如果在执行Java方法则记录正在执行的虚拟机字节码指令地址，如果执行的是native方法则为空

## 虚拟机栈
线程私有的区域，描述的是Java方法执行的内存模型：一个方法的调用对应着一个栈帧在虚拟机栈中入栈和出栈的过程。

## 本地方法栈
native方法使用的栈。类似于虚拟机栈。

## 堆
所有线程共享的内存区域，分为老年代，新生代，更细分一点：Eden，From Survivor，To Survivor。

## 方法区
各线程共享的内存区域，存储虚拟机加载的类信息，常量，静态变量，即时编译器编译后的代码等数据。

## 运行时常量池
是方法区的一部分，用于存放编译期生成的各种字面量和符号引用。字符串常量池。

## 直接内存
不是虚拟机管理的内存，是操作系统的内存。nio类引入一种基于channel与buffer的i/o方式，使用native函数直接操作内存，通过存储在Java堆中的DirectByteBuffer对象作为这块内存的引用，netty大量使用了这种内存模型。

# 对象创建过程