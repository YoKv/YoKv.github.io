---
title: jvm特性（4）类加载
date: 2020-02-22 17:30:27
categories:
- Java进阶
---

# 类加载步骤
<!--more-->

1. 加载
2. 验证
3. 准备
4. 解析
5. 初始化
6. 使用
7. 卸载


### 加载
1. 获取类的二进制字节流
2. 字节流代表的静态存储结构转化为方法区的运行时数据结构
3. 内存中生成一个代表这个类的Class对象，作为方法区这个类的数据访问入口

### 验证
1. 文件格式校验
2. 元数据校验
3. 字节码校验
4. 符号引用校验


### 准备
为类变量分配内存并设置类变量初始值(零值)的阶段

### 解析
常量池中的符号引用替换为直接引用的过程

### 初始化
执行类构造器<clinit>()的过程

# 类加载器

### 启动类加载器
是虚拟机自带的，C++实现的，不能被Java代码直接使用。加载/lib下或者-Xbootclasspath指定目录下类库

### 拓展类加载器
加载/lib/ext目录下或者java.ext.dirs变量指定目录下类库

### 应用程序类加载器(系统类加载器)
默认的类加载器

### 类加载器有层级关系
双亲委派模型
避免一个类有多个类加载器产生多个不同的类（明明是同一个类）







